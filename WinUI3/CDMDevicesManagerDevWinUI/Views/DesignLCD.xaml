<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="CDMDevicesManagerDevWinUI.Views.DesignLCD"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CDMDevicesManagerDevWinUI.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:dev="using:DevWinUI"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                CornerRadius="8" Margin="10,10,10,5" Padding="20">
            <StackPanel>
                <TextBlock Text="Background Rendering Service Demo" 
                           Style="{ThemeResource TitleTextBlockStyle}" 
                           HorizontalAlignment="Center"/>
                <TextBlock Text="Offscreen rendering with image display - real-time rendering with live text, images, and particle effects" 
                           Style="{ThemeResource CaptionTextBlockStyle}" 
                           HorizontalAlignment="Center" 
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                           Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Main Display Area -->
        <Border Grid.Row="1" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                CornerRadius="8" Margin="10,5" Padding="10">
            <Grid>
                <!-- Rendered Image Display -->
                <Border Background="Black" CornerRadius="8">
                    <Image x:Name="RenderDisplay" 
                           Stretch="Uniform"
                           HorizontalAlignment="Stretch"
                           VerticalAlignment="Stretch"
                           PointerPressed="OnRenderDisplayPointerPressed"
                           PointerMoved="OnRenderDisplayPointerMoved"
                           PointerReleased="OnRenderDisplayPointerReleased"
                           PointerCaptureLost="OnRenderDisplayPointerReleased"/>
                </Border>

                <!-- Overlay Controls -->
                <StackPanel HorizontalAlignment="Right" VerticalAlignment="Top" 
                            Margin="20" Spacing="10" Background="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}"
                            Padding="15" CornerRadius="8">
                    <TextBlock Text="Renderer Controls" Style="{ThemeResource SubtitleTextBlockStyle}"/>

                    <Button x:Name="StartStopButton" Content="Start Rendering" Click="OnStartStopClick"/>
                    <Button x:Name="CaptureButton" Content="Capture Frame" Click="OnCaptureFrameClick"/>
                    <Button x:Name="ClearButton" Content="Clear Elements" Click="OnClearElementsClick"/>

                    <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}" Margin="0,5"/>

                    <TextBlock Text="ðŸ”— HID Device Integration" Style="{ThemeResource BodyStrongTextBlockStyle}" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                    <TextBlock Text="Real-time JPEG streaming to connected HID devices" 
                               Style="{ThemeResource CaptionTextBlockStyle}" 
                               TextWrapping="Wrap"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    
                    <StackPanel Orientation="Horizontal" Spacing="5">
                        <TextBlock Text="JPEG Quality:" VerticalAlignment="Center"/>
                        <ComboBox x:Name="JpegQualityComboBox" SelectedIndex="2" SelectionChanged="OnJpegQualityChanged" Width="80">
                            <ComboBoxItem Content="50%"/>
                            <ComboBoxItem Content="75%"/>
                            <ComboBoxItem Content="85%"/>
                            <ComboBoxItem Content="95%"/>
                        </ComboBox>
                    </StackPanel>
                    
                    <CheckBox x:Name="HidRealTimeModeCheckBox" Content="Enable HID Real-time Mode" 
                              Checked="OnHidRealTimeModeChanged" Unchecked="OnHidRealTimeModeChanged"
                              IsChecked="True"/>

                    <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}" Margin="0,5"/>

                    <TextBlock Text="ðŸ’¡ Interaction Tip" Style="{ThemeResource BodyStrongTextBlockStyle}" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                    <TextBlock Text="Click and drag elements to move them around!" 
                               Style="{ThemeResource CaptionTextBlockStyle}" 
                               TextWrapping="Wrap"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>

                    <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}" Margin="0,5"/>

                    <TextBlock Text="Render Settings" Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                    <StackPanel Orientation="Horizontal" Spacing="5">
                        <TextBlock Text="Size:" VerticalAlignment="Center"/>
                        <ComboBox x:Name="RenderSizeComboBox" SelectedIndex="1" SelectionChanged="OnRenderSizeChanged">
                            <ComboBoxItem Content="48x480"/>
                            <ComboBoxItem Content="800x600"/>
                            <ComboBoxItem Content="1024x768"/>
                            <ComboBoxItem Content="1280x720"/>
                        </ComboBox>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Spacing="5">
                        <TextBlock Text="FPS:" VerticalAlignment="Center"/>
                        <ComboBox x:Name="FpsComboBox" SelectedIndex="1" SelectionChanged="OnFpsChanged">
                            <ComboBoxItem Content="15"/>
                            <ComboBoxItem Content="30"/>
                            <ComboBoxItem Content="60"/>
                        </ComboBox>
                    </StackPanel>

                    <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}" Margin="0,5"/>

                    <TextBlock Text="Add Elements" Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                    <Button Content="ðŸ§ª Test Simple Text" Click="OnTestSimpleTextClick" Background="LightBlue"/>
                    <Button Content="Add Live Time" Click="OnAddLiveTimeClick"/>
                    <Button Content="Add Floating Text" Click="OnAddFloatingTextClick"/>
                    <Button Content="Add Particle System" Click="OnAddParticleSystemClick"/>
                    <Button Content="Add Sample Image" Click="OnAddSampleImageClick"/>

                    <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}" Margin="0,5"/>

                    <TextBlock Text="Effects" Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                    <CheckBox x:Name="GlowEffectCheckBox" Content="Text Glow Effect" Checked="OnGlowEffectChanged" Unchecked="OnGlowEffectChanged"/>
                    <CheckBox x:Name="BreathingEffectCheckBox" Content="Breathing Animation" Checked="OnBreathingEffectChanged" Unchecked="OnBreathingEffectChanged"/>
                    <CheckBox x:Name="MovementEffectCheckBox" Content="Movement Animation" Checked="OnMovementEffectChanged" Unchecked="OnMovementEffectChanged"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="2" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                CornerRadius="8" Margin="10,5,10,10" Padding="15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="StatusText" Text="Ready to initialize background rendering service..." 
                           VerticalAlignment="Center" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="20" Margin="20,0">
                    <TextBlock x:Name="ElementCountText" Text="Elements: 0" VerticalAlignment="Center"/>
                    <TextBlock x:Name="FpsText" Text="FPS: 0" VerticalAlignment="Center"/>
                    <TextBlock x:Name="RenderSizeText" Text="Size: 800x600" VerticalAlignment="Center"/>
                </StackPanel>

                <Button Grid.Column="2" Content="Export Settings" Click="OnExportSettingsClick"/>
            </Grid>
        </Border>
    </Grid>
</Page>