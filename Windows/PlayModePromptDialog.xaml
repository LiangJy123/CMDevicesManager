<Window x:Class="CMDevicesManager.Windows.PlayModePromptDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="播放模式提示"
        Width="460" Height="230"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ShowInTaskbar="False"
        FontFamily="{DynamicResource AppFontFamily}"
        FocusManager.FocusedElement="{Binding ElementName=GoButton}">

    <!-- 若这些资源已在 App.xaml 全局提供，可删除下面重复定义；保持本地副本确保独立运行 -->
    <Window.Resources>
        <SolidColorBrush x:Key="CardBg" Color="#20252F"/>
        <SolidColorBrush x:Key="CardBorder" Color="#2E3747"/>
        <SolidColorBrush x:Key="TitleBrush" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="SubtitleBrush" Color="#B8C0CC"/>
        <SolidColorBrush x:Key="AccentBrush" Color="#3A7E00"/>
        <SolidColorBrush x:Key="AccentHoverBrush" Color="#4A9E00"/>

        <DropShadowEffect x:Key="WindowShadow"
                          Color="#000000"
                          Direction="270"
                          ShadowDepth="4"
                          BlurRadius="28"
                          Opacity="0.55"/>

        <DropShadowEffect x:Key="CardShadow" Color="Black"
                          Direction="270" ShadowDepth="8"
                          Opacity="0.45" BlurRadius="18"/>

        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="{StaticResource AccentBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="14,8"/>
            <Setter Property="Margin" Value="10,0,0,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="bd"
                                CornerRadius="6"
                                Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="{StaticResource AccentHoverBrush}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#2A6E00"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="bd" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SecondaryButtonStyle" TargetType="Button" BasedOn="{StaticResource ActionButtonStyle}">
            <Setter Property="Background" Value="#373D48"/>
            <Setter Property="Foreground" Value="#D0D2D6"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="bd"
                                CornerRadius="6"
                                Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#49515E"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#323841"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="{StaticResource SubtitleBrush}"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
    </Window.Resources>

    <Border CornerRadius="18"
            Background="{StaticResource CardBg}"
            BorderBrush="{StaticResource CardBorder}"
            BorderThickness="1"
            Effect="{StaticResource WindowShadow}"
            SnapsToDevicePixels="True">
        <Grid Margin="18" MouseLeftButtonDown="WindowDragArea_MouseLeftButtonDown">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- 标题栏 -->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="播放模式提示"
                           FontSize="18"
                           FontWeight="SemiBold"
                           Foreground="{StaticResource TitleBrush}"
                           VerticalAlignment="Center"
                           Margin="2,0,0,10"/>
                <Button Grid.Column="1"
                        Width="30" Height="26"
                        Content="✕"
                        Padding="0"
                        Style="{StaticResource SecondaryButtonStyle}"
                        Margin="8,0,0,10"
                        Click="LaterButton_Click"
                        ToolTip="关闭"/>
            </Grid>

            <!-- 内容 -->
            <StackPanel Grid.Row="1" Margin="2,0,0,0">
                <TextBlock Text="屏幕画面已经设置，是否现在去设置播放模式？"
                           TextWrapping="Wrap"
                           Foreground="{StaticResource SubtitleBrush}"
                           FontSize="15"
                           Margin="0,0,0,14"/>

                <Border Background="#232A34"
                        BorderBrush="{StaticResource CardBorder}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="12"
                        Margin="0,0,0,14">
                    <StackPanel>
                        <TextBlock Text="说明"
                                   Foreground="{StaticResource TitleBrush}"
                                   FontSize="14"
                                   FontWeight="SemiBold"/>
                        <TextBlock Text="播放模式用于在设备上轮播或实时展示多个画面序列（配置组）。点击“去设置”可立即前往‘播放模式’页面进行添加。"
                                   Margin="0,6,0,0"
                                   TextWrapping="Wrap"
                                   Foreground="{StaticResource SubtitleBrush}"
                                   FontSize="12"/>
                    </StackPanel>
                </Border>

                <CheckBox x:Name="DontRemindCheck"
                          Content="不再提醒"
                          Margin="0,0,0,0"/>
            </StackPanel>

            <!-- 按钮 -->
            <StackPanel Grid.Row="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="0,18,0,0">
                <Button x:Name="GoButton"
                        Content="去设置"
                        Width="110"
                        Style="{StaticResource ActionButtonStyle}"
                        IsDefault="True"
                        Click="GoButton_Click"/>
                <Button Content="以后再说"
                        Width="110"
                        Style="{StaticResource SecondaryButtonStyle}"
                        IsCancel="True"
                        Click="LaterButton_Click"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>